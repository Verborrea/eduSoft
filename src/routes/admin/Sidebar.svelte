<script>
	import { page } from "$app/stores"

	let mini = false

	function toggleMini() {
		mini = !mini
	}
</script>

<aside class="fcol16" class:mini>
	<header class="fc g8 justify-between">
		<a class="fc index g8" href="/">
			<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.2055 18.0717C5.34589 17.6 4.80225 16.7001 4.80225 15.7175V11.313L2.713 10.1717C1.80419 9.67705 1.79 8.33575 2.713 7.8425L10.739 3.4685C11.5002 3.03741 12.4999 3.03746 13.261 3.4685L22.7153 8.626C23.1561 8.85156 23.4098 9.31786 23.4098 9.79775V16C23.4098 17.5761 20.9718 17.5669 20.9718 16V10.3402L19.1978 11.313V15.7175C19.1978 16.7001 18.6541 17.6 17.7945 18.0717L13.2468 20.5033C12.4902 20.9317 11.5098 20.9317 10.7533 20.5033L6.2055 18.0717ZM12 12.4175L18.3273 9L12 5.5825L5.67275 9L12 12.4175ZM12 18.4282L16.7598 15.8555V12.6175L13.2718 14.5315C12.5067 14.9648 11.4933 14.9648 10.7283 14.5315L7.24025 12.6175V15.8555L12 18.4282Z" fill="var(--blue)"/></svg>
			eduSoft
		</a>
		<button type="button" title="Minimizar Panel" on:click={toggleMini}>
			<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M8.857 3H15.143C16.227 3 17.101 3 17.809 3.058C18.538 3.118 19.178 3.243 19.77 3.545C20.7108 4.02436 21.4756 4.78923 21.955 5.73C22.257 6.322 22.383 6.963 22.442 7.691C22.5 8.399 22.5 9.273 22.5 10.357V13.643C22.5 14.727 22.5 15.601 22.442 16.309C22.382 17.038 22.257 17.678 21.955 18.27C21.4756 19.2108 20.7108 19.9756 19.77 20.455C19.178 20.757 18.538 20.883 17.809 20.942C17.1 21 16.227 21 15.143 21H8.857C7.773 21 6.899 21 6.191 20.942C5.463 20.882 4.822 20.757 4.231 20.455C3.28986 19.9758 2.52462 19.2109 2.045 18.27C1.743 17.678 1.617 17.038 1.558 16.309C1.5 15.6 1.5 14.727 1.5 13.643V10.357C1.5 9.273 1.5 8.399 1.558 7.691C1.618 6.963 1.743 6.322 2.045 5.731C2.52402 4.78949 3.28893 4.02388 4.23 3.544C4.822 3.242 5.463 3.116 6.191 3.057C6.9 3 7.773 3 8.857 3ZM6.354 5.051C5.749 5.101 5.401 5.193 5.138 5.327C4.57354 5.61462 4.11462 6.07354 3.827 6.638C3.693 6.901 3.601 7.249 3.551 7.854C3.501 8.471 3.5 9.264 3.5 10.4V13.6C3.5 14.737 3.5 15.529 3.551 16.146C3.601 16.751 3.693 17.099 3.827 17.362C4.11462 17.9265 4.57354 18.3854 5.138 18.673C5.401 18.807 5.749 18.899 6.354 18.949C6.971 18.999 7.764 19 8.9 19H9.5V5H8.9C7.763 5 6.971 5 6.354 5.051ZM11.5 5V19H15.1C16.237 19 17.029 19 17.646 18.949C18.251 18.899 18.599 18.807 18.862 18.673C19.4265 18.3854 19.8854 17.9265 20.173 17.362C20.307 17.099 20.399 16.751 20.449 16.146C20.499 15.529 20.5 14.736 20.5 13.6V10.4C20.5 9.263 20.5 8.471 20.449 7.854C20.399 7.249 20.307 6.901 20.173 6.638C19.8854 6.07354 19.4265 5.61462 18.862 5.327C18.599 5.193 18.251 5.101 17.646 5.051C17.029 5.001 16.236 5 15.1 5H11.5ZM5 8.5C5 8.23478 5.10536 7.98043 5.29289 7.79289C5.48043 7.60536 5.73478 7.5 6 7.5H7C7.26522 7.5 7.51957 7.60536 7.70711 7.79289C7.89464 7.98043 8 8.23478 8 8.5C8 8.76522 7.89464 9.01957 7.70711 9.20711C7.51957 9.39464 7.26522 9.5 7 9.5H6C5.73478 9.5 5.48043 9.39464 5.29289 9.20711C5.10536 9.01957 5 8.76522 5 8.5ZM5 12C5 11.7348 5.10536 11.4804 5.29289 11.2929C5.48043 11.1054 5.73478 11 6 11H7C7.26522 11 7.51957 11.1054 7.70711 11.2929C7.89464 11.4804 8 11.7348 8 12C8 12.2652 7.89464 12.5196 7.70711 12.7071C7.51957 12.8946 7.26522 13 7 13H6C5.73478 13 5.48043 12.8946 5.29289 12.7071C5.10536 12.5196 5 12.2652 5 12Z" fill="var(--neutral-500)"/>
			</svg>
		</button>
	</header>
	<nav class="fcol16">
		<a class="fc option" class:opt-active={$page.url.pathname.startsWith('/admin/grupos')} href="/admin/grupos" title="Ir a Grupos">
			{#if $page.url.pathname.startsWith('/admin/grupos')}
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="6" cy="17" r="4" fill="currentColor"/><circle cx="18" cy="17" r="4" fill="currentColor"/><circle cx="12" cy="7" r="4" fill="currentColor"/></svg>
			{:else}
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="6" cy="17" r="3" stroke="currentColor" stroke-width="2"/><circle cx="18" cy="17" r="3" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="7" r="3" stroke="currentColor" stroke-width="2"/></svg>				
			{/if}
			<span>Grupos</span>
		</a>
		<a class="fc option" class:opt-active={$page.url.pathname.startsWith('/admin/alumnos')} href="/admin/alumnos" title="Ir a Estudiantes">
			{#if $page.url.pathname.startsWith('/admin/alumnos')}
				<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M361.2-389.28q-21.48 0-36.1-14.62-14.62-14.62-14.62-36.1 0-21.48 14.62-36.1 14.62-14.62 36.1-14.62 21.47 0 36.09 14.62 14.62 14.62 14.62 36.1 0 21.48-14.62 36.1-14.62 14.62-36.09 14.62Zm237.6 0q-21.47 0-36.09-14.62-14.62-14.62-14.62-36.1 0-21.48 14.62-36.1 14.62-14.62 36.09-14.62 21.48 0 36.1 14.62 14.62 14.62 14.62 36.1 0 21.48-14.62 36.1-14.62 14.62-36.1 14.62ZM480-162.87q132.57 0 224.97-92.03 92.4-92.02 92.4-224.62 0-24-3-46.15t-11-42.9q-21 5-41.64 7.5t-43.64 2.5q-90.29 0-170.45-38.64-80.16-38.64-136.92-108.16-31.52 77.04-90.55 133.95-59.02 56.9-137.06 85.9v6q0 132.6 92.16 224.62 92.16 92.03 224.73 92.03Zm.24 91q-84.65 0-159.1-32.1-74.44-32.1-129.64-87.29-55.2-55.2-87.29-129.65-32.1-74.46-32.1-159.11 0-84.65 32.1-159.09 32.09-74.43 87.29-129.63 55.2-55.19 129.65-87.29 74.46-32.1 159.11-32.1 84.65 0 158.97 32.1 74.31 32.1 129.51 87.29 55.19 55.2 87.29 129.65 32.1 74.46 32.1 159.11 0 84.65-32.1 159.09-32.1 74.43-87.29 129.63-55.2 55.19-129.57 87.29-74.37 32.1-158.93 32.1Z"/></svg>
			{:else}
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 14.25C8.65 14.25 8.35417 14.1292 8.1125 13.8875C7.87083 13.6458 7.75 13.35 7.75 13C7.75 12.65 7.87083 12.3542 8.1125 12.1125C8.35417 11.8708 8.65 11.75 9 11.75C9.35 11.75 9.64583 11.8708 9.8875 12.1125C10.1292 12.3542 10.25 12.65 10.25 13C10.25 13.35 10.1292 13.6458 9.8875 13.8875C9.64583 14.1292 9.35 14.25 9 14.25ZM15 14.25C14.65 14.25 14.3542 14.1292 14.1125 13.8875C13.8708 13.6458 13.75 13.35 13.75 13C13.75 12.65 13.8708 12.3542 14.1125 12.1125C14.3542 11.8708 14.65 11.75 15 11.75C15.35 11.75 15.6458 11.8708 15.8875 12.1125C16.1292 12.3542 16.25 12.65 16.25 13C16.25 13.35 16.1292 13.6458 15.8875 13.8875C15.6458 14.1292 15.35 14.25 15 14.25ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 11.6 19.975 11.2125 19.925 10.8375C19.875 10.4625 19.7833 10.1 19.65 9.75C19.3 9.83333 18.95 9.89583 18.6 9.9375C18.25 9.97917 17.8833 10 17.5 10C15.9833 10 14.55 9.675 13.2 9.025C11.85 8.375 10.7 7.46667 9.75 6.3C9.21667 7.6 8.45417 8.72917 7.4625 9.6875C6.47083 10.6458 5.31667 11.3667 4 11.85V12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM10.65 4.125C11.35 5.29167 12.3 6.22917 13.5 6.9375C14.7 7.64583 16.0333 8 17.5 8C17.7333 8 17.9583 7.9875 18.175 7.9625C18.3917 7.9375 18.6167 7.90833 18.85 7.875C18.15 6.70833 17.2 5.77083 16 5.0625C14.8 4.35417 13.4667 4 12 4C11.7667 4 11.5417 4.0125 11.325 4.0375C11.1083 4.0625 10.8833 4.09167 10.65 4.125ZM4.425 9.475C5.275 8.99167 6.01667 8.36667 6.65 7.6C7.28333 6.83333 7.75833 5.975 8.075 5.025C7.225 5.50833 6.48333 6.13333 5.85 6.9C5.21667 7.66667 4.74167 8.525 4.425 9.475Z" fill="currentColor"/></svg>
			{/if}
			<span>Estudiantes</span>
		</a>
		<a class="fc option" class:opt-active={$page.url.pathname.startsWith('/admin/carreras')} href="/admin/carreras" title="Ir a Carreras">
			{#if $page.url.pathname.startsWith('/admin/carreras')}
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.07175 21.2032C3.44209 21.2032 2.9055 20.9815 2.462 20.538C2.0185 20.0945 1.79675 19.5579 1.79675 18.9282V8.16749C1.79675 7.53766 2.0185 7.00099 2.462 6.55749C2.9055 6.11416 3.44209 5.89249 4.07175 5.89249H7.81475V3.89249C7.81475 3.26266 8.0365 2.72599 8.48 2.28249C8.92334 1.83916 9.45992 1.61749 10.0898 1.61749H13.9103C14.5401 1.61749 15.0767 1.83916 15.52 2.28249C15.9635 2.72599 16.1853 3.26266 16.1853 3.89249V5.89249H19.9283C20.5579 5.89249 21.0945 6.11416 21.538 6.55749C21.9815 7.00099 22.2033 7.53766 22.2033 8.16749V18.9282C22.2033 19.5579 21.9815 20.0945 21.538 20.538C21.0945 20.9815 20.5579 21.2032 19.9283 21.2032H4.07175ZM10.0898 5.89249H13.9103V3.89249H10.0898V5.89249Z" fill="currentColor"/></svg>
			{:else}
				<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M4.07175 21.2032C3.44209 21.2032 2.9055 20.9815 2.462 20.538C2.0185 20.0945 1.79675 19.5579 1.79675 18.9282V8.16749C1.79675 7.53766 2.0185 7.00099 2.462 6.55749C2.9055 6.11416 3.44209 5.89249 4.07175 5.89249H7.81475V3.89249C7.81475 3.26266 8.0365 2.72599 8.48 2.28249C8.92334 1.83916 9.45992 1.61749 10.0898 1.61749H13.9103C14.5401 1.61749 15.0767 1.83916 15.52 2.28249C15.9635 2.72599 16.1853 3.26266 16.1853 3.89249V5.89249H19.9283C20.5579 5.89249 21.0945 6.11416 21.538 6.55749C21.9815 7.00099 22.2033 7.53766 22.2033 8.16749V18.9282C22.2033 19.5579 21.9815 20.0945 21.538 20.538C21.0945 20.9815 20.5579 21.2032 19.9283 21.2032H4.07175ZM4.07175 18.9282H19.9283V8.16749H4.07175V18.9282ZM10.0898 5.89249H13.9103V3.89249H10.0898V5.89249Z"/></svg>
			{/if}
			<span>Carreras</span>
		</a>
		<a class="fc option" class:opt-active={$page.url.pathname.startsWith('/admin/cursos')} href="/admin/cursos" title="Ir a Cursos">
			{#if $page.url.pathname.startsWith('/admin/cursos')}
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 16V10.1L12.95 14.475C12.65 14.6417 12.3333 14.725 12 14.725C11.6666 14.725 11.35 14.6417 11.05 14.475L2.59998 9.87502C2.41664 9.77502 2.28748 9.65002 2.21248 9.50002C2.13748 9.35002 2.09998 9.18336 2.09998 9.00002C2.09998 8.81669 2.13748 8.65002 2.21248 8.50002C2.28748 8.35002 2.41664 8.22502 2.59998 8.12502L11.05 3.52502C11.2 3.44169 11.3541 3.37919 11.5125 3.33752C11.6708 3.29586 11.8333 3.27502 12 3.27502C12.1666 3.27502 12.3291 3.29586 12.4875 3.33752C12.6458 3.37919 12.8 3.44169 12.95 3.52502L22.475 8.72502C22.6416 8.80836 22.7708 8.92919 22.8625 9.08752C22.9541 9.24586 23 9.41669 23 9.60002V16C23 16.2834 22.9041 16.5209 22.7125 16.7125C22.5208 16.9042 22.2833 17 22 17C21.7166 17 21.4791 16.9042 21.2875 16.7125C21.0958 16.5209 21 16.2834 21 16ZM11.05 20.475L6.04998 17.775C5.71664 17.5917 5.45831 17.3417 5.27498 17.025C5.09164 16.7084 4.99998 16.3667 4.99998 16V12.2L11.05 15.475C11.35 15.6417 11.6666 15.725 12 15.725C12.3333 15.725 12.65 15.6417 12.95 15.475L19 12.2V16C19 16.3667 18.9083 16.7084 18.725 17.025C18.5416 17.3417 18.2833 17.5917 17.95 17.775L12.95 20.475C12.8 20.5584 12.6458 20.6209 12.4875 20.6625C12.3291 20.7042 12.1666 20.725 12 20.725C11.8333 20.725 11.6708 20.7042 11.5125 20.6625C11.3541 20.6209 11.2 20.5584 11.05 20.475Z" fill="currentColor"/></svg>
			{:else}
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.11577 17.9005C5.37454 17.4934 4.91627 16.7271 4.91627 15.8805V11.2478L2.64777 10.0005C1.86426 9.57365 1.8582 8.43173 2.64777 8.0055L10.9185 3.501C11.5818 3.12936 12.4183 3.12937 13.0815 3.501L22.5768 8.68326C22.9554 8.87459 23.1733 9.26909 23.1733 9.68375V16C23.1733 17.4151 20.988 17.4111 20.988 16V10.2018L19.0838 11.2478V15.8805C19.0838 16.7271 18.6255 17.4934 17.8843 17.9005L13.0755 20.487C12.415 20.8578 11.585 20.8578 10.9245 20.487L6.11577 17.9005ZM12 12.5805L18.6288 9.00001L12 5.41951L5.37127 9.00001L12 12.5805ZM12 18.5995L16.8983 15.9533V12.4055L13.1005 14.499C12.4244 14.8779 11.5699 14.8747 10.8995 14.499L7.10177 12.4055V15.9533L12 18.5995Z" fill="currentColor"/></svg>					
			{/if}
			<span>Cursos</span>
		</a>
	</nav>
	<form action="/logout" method="post">
		<button class="fc option text-red">
			<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.4305 20.8805C19.7811 20.8805 20.8805 19.7811 20.8805 18.4305V5.56951C20.8805 4.21891 19.7811 3.11951 18.4305 3.11951H13.112C11.5315 3.11951 11.5361 5.56951 13.112 5.56951H18.4305V18.4305H13.112C11.5314 18.4305 11.5362 20.8805 13.112 20.8805H18.4305ZM7.78474 13.225H13.289C14.8684 13.225 14.8637 10.775 13.289 10.775H7.78474L8.85974 9.70001C9.9797 8.58005 8.27344 6.84681 7.14674 7.97276L3.97074 11.149C3.49601 11.63 3.5049 12.3674 3.97074 12.851L7.14674 16.0273C8.23605 17.159 9.95016 15.3904 8.84899 14.2893L7.78474 13.225Z" fill="currentColor"/></svg>
			<span>Cerrar Sesión</span>
		</button>
	</form>
</aside>

<style>
	aside, .index, span {
		transition: all 200ms ease;
	}
	span {
		white-space: nowrap;
	}
	aside {
		width: 240px;
		padding: 12px;
		gap: 24px;
		background: var(--neutral-200);
	}
	.index {
		color: var(--neutral-800) !important;
		font-weight: 700;
		font-size: 20px;
	}
	.index, .option {
		padding: 8px 12px;
	}
	header > button {
		padding: 8px;
		border-radius: 8px;
	}
	nav {
		gap: 12px;
		flex: 1;
	}
	.option {
		width: 100%;		
		gap: 8px;
		border-radius: 8px;
		color: var(--neutral-500);
	}
	.option:hover, .opt-active, header > button:hover {
		color: var(--neutral-800);
		background: var(--neutral-300);
	}
	a:hover {
		text-decoration: none;
	}
	svg {
		flex-shrink: 0;
	}

	/* Sidebar minimizada */
	.mini {
		width: 72px;
	}
	.mini .index, .mini .option > span {
		display: none;
	}
</style>